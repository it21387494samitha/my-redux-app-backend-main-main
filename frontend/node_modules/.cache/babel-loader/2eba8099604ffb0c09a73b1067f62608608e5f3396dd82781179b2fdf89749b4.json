{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';// Assuming you use axios for HTTP requests\n// import './Settings.css'; // Add some styles for the form\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Settings=()=>{const[settings,setSettings]=useState({notifications:true,preferredSeats:'Any',language:'en',privacy:true});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{// Fetch user settings from the server on component load\nconst fetchSettings=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('http://localhost:5000/api/settings',{headers:{Authorization:`Bearer ${token}`// Assuming JWT is stored in localStorage\n}});setSettings(response.data);setLoading(false);}catch(error){setError('Failed to fetch settings');setLoading(false);}};fetchSettings();},[]);const handleChange=e=>{const{name,value,type,checked}=e.target;setSettings(prevSettings=>({...prevSettings,[name]:type==='checkbox'?checked:value}));};const handleSave=async()=>{try{const token=localStorage.getItem('token');await axios.put('/api/settings',settings,{headers:{Authorization:`Bearer ${token}`}});alert('Settings saved successfully');}catch(error){setError('Failed to save settings');}};const handleReset=async()=>{try{const token=localStorage.getItem('token');await axios.put('/api/settings/reset',{},{headers:{Authorization:`Bearer ${token}`}});alert('Settings reset to default');// Refetch updated settings\nconst response=await axios.get('http://localhost:5000/api/settings',{headers:{Authorization:`Bearer ${token}`}});setSettings(response.data);}catch(error){setError('Failed to reset settings');}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"settings-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Settings\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Notifications:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"notifications\",checked:settings.notifications,onChange:handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Preferred Seats:\",/*#__PURE__*/_jsxs(\"select\",{name:\"preferredSeats\",value:settings.preferredSeats,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Any\",children:\"Any\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Front\",children:\"Front\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Middle\",children:\"Middle\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Back\",children:\"Back\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Language:\",/*#__PURE__*/_jsxs(\"select\",{name:\"language\",value:settings.language,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"en\",children:\"English\"}),/*#__PURE__*/_jsx(\"option\",{value:\"es\",children:\"Spanish\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Privacy:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"privacy\",checked:settings.privacy,onChange:handleChange})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSave,children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleReset,children:\"Reset to Default\"})]})]});};export default Settings;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Settings","settings","setSettings","notifications","preferredSeats","language","privacy","loading","setLoading","error","setError","fetchSettings","token","localStorage","getItem","response","get","headers","Authorization","data","handleChange","e","name","value","type","checked","target","prevSettings","handleSave","put","alert","handleReset","children","className","onChange","onClick"],"sources":["C:/Users/ASUS/Downloads/my-redux-app-backend-main-main/frontend/src/Pages/Setting/Setting.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios'; // Assuming you use axios for HTTP requests\n// import './Settings.css'; // Add some styles for the form\n\nconst Settings = () => {\n  const [settings, setSettings] = useState({\n    notifications: true,\n    preferredSeats: 'Any',\n    language: 'en',\n    privacy: true,\n  });\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    // Fetch user settings from the server on component load\n    const fetchSettings = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get('http://localhost:5000/api/settings', {\n          headers: {\n            Authorization: `Bearer ${token}` // Assuming JWT is stored in localStorage\n          }\n        });\n        setSettings(response.data);\n        setLoading(false);\n      } catch (error) {\n        setError('Failed to fetch settings');\n        setLoading(false);\n      }\n    };\n\n    fetchSettings();\n  }, []);\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setSettings((prevSettings) => ({\n      ...prevSettings,\n      [name]: type === 'checkbox' ? checked : value,\n    }));\n  };\n\n  const handleSave = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put('/api/settings', settings, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        }\n      });\n      alert('Settings saved successfully');\n    } catch (error) {\n      setError('Failed to save settings');\n    }\n  };\n\n  const handleReset = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put('/api/settings/reset', {}, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        }\n      });\n      alert('Settings reset to default');\n      // Refetch updated settings\n      const response = await axios.get('http://localhost:5000/api/settings', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setSettings(response.data);\n    } catch (error) {\n      setError('Failed to reset settings');\n    }\n  };\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>{error}</div>;\n\n  return (\n    <div className=\"settings-container\">\n      <h2>Settings</h2>\n      <form>\n        {/* Notifications */}\n        <div className=\"form-group\">\n          <label>\n            Notifications:\n            <input\n              type=\"checkbox\"\n              name=\"notifications\"\n              checked={settings.notifications}\n              onChange={handleChange}\n            />\n          </label>\n        </div>\n\n        {/* Preferred Seats */}\n        <div className=\"form-group\">\n          <label>\n            Preferred Seats:\n            <select\n              name=\"preferredSeats\"\n              value={settings.preferredSeats}\n              onChange={handleChange}\n            >\n              <option value=\"Any\">Any</option>\n              <option value=\"Front\">Front</option>\n              <option value=\"Middle\">Middle</option>\n              <option value=\"Back\">Back</option>\n            </select>\n          </label>\n        </div>\n\n        {/* Language */}\n        <div className=\"form-group\">\n          <label>\n            Language:\n            <select\n              name=\"language\"\n              value={settings.language}\n              onChange={handleChange}\n            >\n              <option value=\"en\">English</option>\n              <option value=\"es\">Spanish</option>\n              {/* Add other language options as needed */}\n            </select>\n          </label>\n        </div>\n\n        {/* Privacy */}\n        <div className=\"form-group\">\n          <label>\n            Privacy:\n            <input\n              type=\"checkbox\"\n              name=\"privacy\"\n              checked={settings.privacy}\n              onChange={handleChange}\n            />\n          </label>\n        </div>\n\n        {/* Save Button */}\n        <button type=\"button\" onClick={handleSave}>\n          Save Changes\n        </button>\n\n        {/* Reset Button */}\n        <button type=\"button\" onClick={handleReset}>\n          Reset to Default\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Settings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}