{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{Box,Button,TextField,Typography,Grid,Alert}from'@mui/material';import{useNavigate,useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditEvent=()=>{const{eventId}=useParams();// Get the event ID from the URL\nconst[eventData,setEventData]=useState({name:'',date:'',location:'',description:''});const[error,setError]=useState('');const[success,setSuccess]=useState('');const navigate=useNavigate();useEffect(()=>{const fetchEventData=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get(`https://newslt-mern.azurewebsites.net/events/${eventId}`,{headers:{Authorization:`Bearer ${token}`}});setEventData(response.data);}catch(error){console.error('Error fetching event data:',error);setError('Failed to fetch event data.');}};fetchEventData();},[eventId]);const handleChange=e=>{const{name,value}=e.target;setEventData({...eventData,[name]:value});};const handleSubmit=async e=>{e.preventDefault();try{const token=localStorage.getItem('token');const response=await axios.put(`https://newslt-mern.azurewebsites.net/events/${eventId}`,eventData,{headers:{Authorization:`Bearer ${token}`}});if(response.status===200){setSuccess('Event updated successfully!');navigate('/QR');}}catch(error){console.error('Error updating event:',error);setError('Failed to update event.');}};return/*#__PURE__*/_jsxs(Box,{sx:{padding:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Edit Event\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),success&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",children:success}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{label:\"Event Name\",name:\"name\",value:eventData.name,onChange:handleChange,fullWidth:true,required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{label:\"Event Date\",name:\"date\",type:\"date\",value:eventData.date,onChange:handleChange,fullWidth:true,required:true,InputLabelProps:{shrink:true}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{label:\"Location\",name:\"location\",value:eventData.location,onChange:handleChange,fullWidth:true,required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{label:\"Description\",name:\"description\",value:eventData.description,onChange:handleChange,fullWidth:true,multiline:true,rows:4,required:true})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",sx:{mt:3},children:\"Update Event\"})]})]});};export default EditEvent;","map":{"version":3,"names":["React","useEffect","useState","axios","Box","Button","TextField","Typography","Grid","Alert","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","EditEvent","eventId","eventData","setEventData","name","date","location","description","error","setError","success","setSuccess","navigate","fetchEventData","token","localStorage","getItem","response","get","headers","Authorization","data","console","handleChange","e","value","target","handleSubmit","preventDefault","put","status","sx","padding","children","variant","gutterBottom","severity","onSubmit","container","spacing","item","xs","label","onChange","fullWidth","required","type","InputLabelProps","shrink","multiline","rows","color","mt"],"sources":["C:/Users/ASUS/Downloads/my-redux-app-backend-main-main/frontend/src/Admin/EventEdit.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport {\n  Box,\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  Alert,\n} from '@mui/material';\nimport { useNavigate, useParams } from 'react-router-dom';\n\nconst EditEvent = () => {\n  const { eventId } = useParams(); // Get the event ID from the URL\n  const [eventData, setEventData] = useState({\n    name: '',\n    date: '',\n    location: '',\n    description: '',\n  });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchEventData = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get(`https://newslt-mern.azurewebsites.net/events/${eventId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        setEventData(response.data);\n      } catch (error) {\n        console.error('Error fetching event data:', error);\n        setError('Failed to fetch event data.');\n      }\n    };\n\n    fetchEventData();\n  }, [eventId]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setEventData({\n      ...eventData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.put(`https://newslt-mern.azurewebsites.net/events/${eventId}`, eventData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      if (response.status === 200) {\n        setSuccess('Event updated successfully!');\n        navigate('/QR'); \n      }\n    } catch (error) {\n      console.error('Error updating event:', error);\n      setError('Failed to update event.');\n    }\n  };\n\n  return (\n    <Box sx={{ padding: 3 }}>\n      <Typography variant=\"h4\" gutterBottom>\n        Edit Event\n      </Typography>\n      {error && <Alert severity=\"error\">{error}</Alert>}\n      {success && <Alert severity=\"success\">{success}</Alert>}\n      <form onSubmit={handleSubmit}>\n        <Grid container spacing={3}>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Event Name\"\n              name=\"name\"\n              value={eventData.name}\n              onChange={handleChange}\n              fullWidth\n              required\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Event Date\"\n              name=\"date\"\n              type=\"date\"\n              value={eventData.date}\n              onChange={handleChange}\n              fullWidth\n              required\n              InputLabelProps={{ shrink: true }}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Location\"\n              name=\"location\"\n              value={eventData.location}\n              onChange={handleChange}\n              fullWidth\n              required\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Description\"\n              name=\"description\"\n              value={eventData.description}\n              onChange={handleChange}\n              fullWidth\n              multiline\n              rows={4}\n              required\n            />\n          </Grid>\n        </Grid>\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\" sx={{ mt: 3 }}>\n          Update Event\n        </Button>\n      </form>\n    </Box>\n  );\n};\n\nexport default EditEvent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}