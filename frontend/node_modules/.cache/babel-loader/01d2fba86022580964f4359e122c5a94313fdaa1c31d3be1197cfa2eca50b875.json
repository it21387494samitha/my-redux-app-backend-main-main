{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfileImageUpload=()=>{const[image,setImage]=useState(null);const[message,setMessage]=useState('');// To display success or error messages\n// Handle file change\nconst handleFileChange=e=>{setImage(e.target.files[0]);// Select the uploaded file\n};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();// Ensure an image is selected\nif(!image){setMessage('Please select an image to upload.');return;}const formData=new FormData();formData.append('profileImage',image);// Append the image to form data\nconst token=localStorage.getItem('token');// Get the token from local storage\ntry{const response=await axios.post('http://localhost:5000/users/profile/upload',formData,{headers:{'Content-Type':'multipart/form-data',Authorization:`Bearer ${token}`// Send the token for authentication\n}});setMessage(response.data.message);// Show success message\n}catch(error){console.error('Error uploading image:',error);setMessage('Failed to upload the image. Please try again.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-20\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Upload Profile Image\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{children:message}),\" \"]});};export default ProfileImageUpload;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","ProfileImageUpload","image","setImage","message","setMessage","handleFileChange","e","target","files","handleSubmit","preventDefault","formData","FormData","append","token","localStorage","getItem","response","post","headers","Authorization","data","error","console","className","children","onSubmit","type","onChange"],"sources":["C:/Users/ASUS/Downloads/my-redux-app-backend-main-main/frontend/src/User/ProfileImageUpload.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst ProfileImageUpload = () => {\n  const [image, setImage] = useState(null);\n  const [message, setMessage] = useState(''); // To display success or error messages\n\n  // Handle file change\n  const handleFileChange = (e) => {\n    setImage(e.target.files[0]); // Select the uploaded file\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Ensure an image is selected\n    if (!image) {\n      setMessage('Please select an image to upload.');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('profileImage', image); // Append the image to form data\n\n    const token = localStorage.getItem('token'); // Get the token from local storage\n\n    try {\n      const response = await axios.post('http://localhost:5000/users/profile/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`, // Send the token for authentication\n        },\n      });\n      \n      setMessage(response.data.message); // Show success message\n    } catch (error) {\n      console.error('Error uploading image:', error);\n      setMessage('Failed to upload the image. Please try again.');\n    }\n  };\n\n  return (\n    <div className='mt-20'>\n      <form onSubmit={handleSubmit}>\n        <input type=\"file\" onChange={handleFileChange} />\n        <button type=\"submit\">Upload Profile Image</button>\n      </form>\n      {message && <p>{message}</p>} {/* Display success or error messages */}\n    </div>\n  );\n};\n\nexport default ProfileImageUpload;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAAE;AAE5C;AACA,KAAM,CAAAW,gBAAgB,CAAIC,CAAC,EAAK,CAC9BJ,QAAQ,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAE;AAC/B,CAAC,CAED;AACA,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAH,CAAC,EAAK,CAChCA,CAAC,CAACI,cAAc,CAAC,CAAC,CAElB;AACA,GAAI,CAACT,KAAK,CAAE,CACVG,UAAU,CAAC,mCAAmC,CAAC,CAC/C,OACF,CAEA,KAAM,CAAAO,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,cAAc,CAAEZ,KAAK,CAAC,CAAE;AAExC,KAAM,CAAAa,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE;AAE7C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,IAAI,CAAC,4CAA4C,CAAEP,QAAQ,CAAE,CACxFQ,OAAO,CAAE,CACP,cAAc,CAAE,qBAAqB,CACrCC,aAAa,CAAE,UAAUN,KAAK,EAAI;AACpC,CACF,CAAC,CAAC,CAEFV,UAAU,CAACa,QAAQ,CAACI,IAAI,CAAClB,OAAO,CAAC,CAAE;AACrC,CAAE,MAAOmB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9ClB,UAAU,CAAC,+CAA+C,CAAC,CAC7D,CACF,CAAC,CAED,mBACEL,KAAA,QAAKyB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpB1B,KAAA,SAAM2B,QAAQ,CAAEjB,YAAa,CAAAgB,QAAA,eAC3B5B,IAAA,UAAO8B,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAEvB,gBAAiB,CAAE,CAAC,cACjDR,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,sBAAoB,CAAQ,CAAC,EAC/C,CAAC,CACNtB,OAAO,eAAIN,IAAA,MAAA4B,QAAA,CAAItB,OAAO,CAAI,CAAC,CAAC,GAAC,EAC3B,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}