{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SeatAdd(){const[row,setRow]=useState('');const[number,setNumber]=useState('');const[successMessage,setSuccessMessage]=useState('');const[error,setError]=useState('');const token=localStorage.getItem('token');// Retrieve the token from local storage or your state management\nconst handleAddSeat=()=>{if(!row||!number){setError('Both row and seat number are required.');return;}axios.post('https://newslt-mern.azurewebsites.net/api/seats',// Update with the correct rout\n{row,number:parseInt(number,10)},{headers:{Authorization:`Bearer ${token}`// Include the token for authorization\n}}).then(response=>{const{_id,row,number}=response.data.seat;// Ensure backend sends the seat with _id\nsetSuccessMessage(`Seat ${row}${number} (ID: ${_id}) added successfully!`);setError('');setRow('');setNumber('');}).catch(error=>{setError('Error adding seat. It may already exist or the route is incorrect.');setSuccessMessage('');console.error(error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Seat\"}),error&&/*#__PURE__*/_jsx(\"p\",{children:error}),successMessage&&/*#__PURE__*/_jsx(\"p\",{children:successMessage}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Row\",value:row,onChange:e=>setRow(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Number\",value:number,onChange:e=>setNumber(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSeat,children:\"Add Seat\"})]});}export default SeatAdd;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","SeatAdd","row","setRow","number","setNumber","successMessage","setSuccessMessage","error","setError","token","localStorage","getItem","handleAddSeat","post","parseInt","headers","Authorization","then","response","_id","data","seat","catch","console","children","type","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/ASUS/Downloads/my-redux-app-backend-main-main/frontend/src/Admin/SeatAdd.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction SeatAdd() {\n  const [row, setRow] = useState('');\n  const [number, setNumber] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const [error, setError] = useState('');\n  const token = localStorage.getItem('token'); // Retrieve the token from local storage or your state management\n\n  const handleAddSeat = () => {\n    if (!row || !number) {\n      setError('Both row and seat number are required.');\n      return;\n    }\n\n    axios.post(\n      'https://newslt-mern.azurewebsites.net/api/seats', // Update with the correct rout\n      { row, number: parseInt(number, 10) },\n      {\n        headers: {\n          Authorization: `Bearer ${token}`, // Include the token for authorization\n        },\n      }\n    )\n      .then((response) => {\n        const { _id, row, number } = response.data.seat; // Ensure backend sends the seat with _id\n        setSuccessMessage(`Seat ${row}${number} (ID: ${_id}) added successfully!`);\n        setError('');\n        setRow('');\n        setNumber('');\n      })\n      .catch((error) => {\n        setError('Error adding seat. It may already exist or the route is incorrect.');\n        setSuccessMessage('');\n        console.error(error);\n      });\n  };\n\n  return (\n    <div>\n      <h2>Add Seat</h2>\n      {error && <p>{error}</p>}\n      {successMessage && <p>{successMessage}</p>}\n      <input\n        type=\"text\"\n        placeholder=\"Row\"\n        value={row}\n        onChange={(e) => setRow(e.target.value)}\n      />\n      <input\n        type=\"number\"\n        placeholder=\"Number\"\n        value={number}\n        onChange={(e) => setNumber(e.target.value)}\n      />\n      <button onClick={handleAddSeat}>Add Seat</button>\n    </div>\n  );\n}\n\nexport default SeatAdd;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACS,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACW,cAAc,CAAEC,iBAAiB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAe,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE;AAE7C,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,GAAI,CAACX,GAAG,EAAI,CAACE,MAAM,CAAE,CACnBK,QAAQ,CAAC,wCAAwC,CAAC,CAClD,OACF,CAEAb,KAAK,CAACkB,IAAI,CACR,iDAAiD,CAAE;AACnD,CAAEZ,GAAG,CAAEE,MAAM,CAAEW,QAAQ,CAACX,MAAM,CAAE,EAAE,CAAE,CAAC,CACrC,CACEY,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUP,KAAK,EAAI;AACpC,CACF,CACF,CAAC,CACEQ,IAAI,CAAEC,QAAQ,EAAK,CAClB,KAAM,CAAEC,GAAG,CAAElB,GAAG,CAAEE,MAAO,CAAC,CAAGe,QAAQ,CAACE,IAAI,CAACC,IAAI,CAAE;AACjDf,iBAAiB,CAAC,QAAQL,GAAG,GAAGE,MAAM,SAASgB,GAAG,uBAAuB,CAAC,CAC1EX,QAAQ,CAAC,EAAE,CAAC,CACZN,MAAM,CAAC,EAAE,CAAC,CACVE,SAAS,CAAC,EAAE,CAAC,CACf,CAAC,CAAC,CACDkB,KAAK,CAAEf,KAAK,EAAK,CAChBC,QAAQ,CAAC,oEAAoE,CAAC,CAC9EF,iBAAiB,CAAC,EAAE,CAAC,CACrBiB,OAAO,CAAChB,KAAK,CAACA,KAAK,CAAC,CACtB,CAAC,CAAC,CACN,CAAC,CAED,mBACER,KAAA,QAAAyB,QAAA,eACE3B,IAAA,OAAA2B,QAAA,CAAI,UAAQ,CAAI,CAAC,CAChBjB,KAAK,eAAIV,IAAA,MAAA2B,QAAA,CAAIjB,KAAK,CAAI,CAAC,CACvBF,cAAc,eAAIR,IAAA,MAAA2B,QAAA,CAAInB,cAAc,CAAI,CAAC,cAC1CR,IAAA,UACE4B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,KAAK,CACjBC,KAAK,CAAE1B,GAAI,CACX2B,QAAQ,CAAGC,CAAC,EAAK3B,MAAM,CAAC2B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACzC,CAAC,cACF9B,IAAA,UACE4B,IAAI,CAAC,QAAQ,CACbC,WAAW,CAAC,QAAQ,CACpBC,KAAK,CAAExB,MAAO,CACdyB,QAAQ,CAAGC,CAAC,EAAKzB,SAAS,CAACyB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5C,CAAC,cACF9B,IAAA,WAAQkC,OAAO,CAAEnB,aAAc,CAAAY,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAC9C,CAAC,CAEV,CAEA,cAAe,CAAAxB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}