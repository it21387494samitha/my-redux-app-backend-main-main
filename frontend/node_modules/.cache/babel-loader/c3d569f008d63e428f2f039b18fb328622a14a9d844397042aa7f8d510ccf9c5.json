{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import CryptoJS from'crypto-js';import{ClipLoader}from'react-spinners';import{FaPhoneAlt,FaEnvelope,FaUserCircle,FaCheckCircle,FaTimesCircle,FaBirthdayCake,FaEdit,FaMoon,FaSun}from'react-icons/fa';import'./Profile.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const[user,setUser]=useState(null);const[error,setError]=useState(null);const[darkMode,setDarkMode]=useState(false);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(!token){navigate('/login');}else{axios.get('https://newslt-mern.azurewebsites.net/users/profile',{headers:{Authorization:`Bearer ${token}`}}).then(response=>setUser(response.data)).catch(error=>{setError('Failed to load profile.');if(error.response&&error.response.status===401){localStorage.removeItem('token');navigate('/login');}});}},[navigate]);useEffect(()=>{document.body.classList.toggle('dark-mode',darkMode);},[darkMode]);const getGravatarUrl=email=>{const emailHash=CryptoJS.MD5(email.trim().toLowerCase()).toString();return`https://www.gravatar.com/avatar/${emailHash}`;};if(!user){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(ClipLoader,{color:\"#007bff\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading profile...\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:`profile-container ${darkMode?'dark-mode':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-image\",children:/*#__PURE__*/_jsx(\"img\",{src:getGravatarUrl(user.email),alt:\"Profile\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(FaEnvelope,{}),\" \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(FaPhoneAlt,{}),\" \",user.phone]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(FaBirthdayCake,{}),\" Age: \",user.age]}),/*#__PURE__*/_jsxs(\"button\",{className:\"dark-mode-toggle \",onClick:()=>setDarkMode(!darkMode),children:[darkMode?/*#__PURE__*/_jsx(FaSun,{}):/*#__PURE__*/_jsx(FaMoon,{}),\" \",darkMode?'Light Mode':'Dark Mode']}),/*#__PURE__*/_jsxs(\"button\",{className:\"edit-profile-button\",onClick:()=>navigate('/edit-profile'),children:[/*#__PURE__*/_jsx(FaEdit,{}),\" Edit Profile\"]})]})]})});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","CryptoJS","ClipLoader","FaPhoneAlt","FaEnvelope","FaUserCircle","FaCheckCircle","FaTimesCircle","FaBirthdayCake","FaEdit","FaMoon","FaSun","jsx","_jsx","jsxs","_jsxs","Profile","user","setUser","error","setError","darkMode","setDarkMode","navigate","token","localStorage","getItem","get","headers","Authorization","then","response","data","catch","status","removeItem","document","body","classList","toggle","getGravatarUrl","email","emailHash","MD5","trim","toLowerCase","toString","className","children","color","src","alt","firstName","lastName","phone","age","onClick"],"sources":["C:/Users/ASUS/Downloads/my-redux-app-backend-main-main/frontend/src/User/UserProfile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport CryptoJS from 'crypto-js';\nimport { ClipLoader } from 'react-spinners';\nimport {\n  FaPhoneAlt, FaEnvelope, FaUserCircle, FaCheckCircle,\n  FaTimesCircle, FaBirthdayCake, FaEdit, FaMoon, FaSun\n} from 'react-icons/fa';\nimport './Profile.css';\n\nconst Profile = () => {\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [darkMode, setDarkMode] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n    } else {\n      axios.get('https://newslt-mern.azurewebsites.net/users/profile', {\n        headers: { Authorization: `Bearer ${token}` }\n      })\n        .then((response) => setUser(response.data))\n        .catch((error) => {\n          setError('Failed to load profile.');\n          if (error.response && error.response.status === 401) {\n            localStorage.removeItem('token');\n            navigate('/login');\n          }\n        });\n    }\n  }, [navigate]);\n\n  useEffect(() => {\n    document.body.classList.toggle('dark-mode', darkMode);\n  }, [darkMode]);\n\n  const getGravatarUrl = (email) => {\n    const emailHash = CryptoJS.MD5(email.trim().toLowerCase()).toString();\n    return `https://www.gravatar.com/avatar/${emailHash}`;\n  };\n\n  if (!user) {\n    return (\n      <div className=\"loading-container\">\n        <ClipLoader color=\"#007bff\" />\n        <p>Loading profile...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`profile-container ${darkMode ? 'dark-mode' : ''}`}>\n      <div className=\"profile-card\">\n        <div className=\"profile-image\">\n          <img src={getGravatarUrl(user.email)} alt=\"Profile\" />\n        </div>\n\n        <div className=\"user-details\">\n          <h3>{user.firstName} {user.lastName}</h3>\n          <p><FaEnvelope /> {user.email}</p>\n          <p><FaPhoneAlt /> {user.phone}</p>\n          <p><FaBirthdayCake /> Age: {user.age}</p>\n          {/* <p className={`subscription-status ${user.subscription ? 'active' : 'inactive'}`}>\n            {user.subscription ? <FaCheckCircle /> : <FaTimesCircle />}\n            {user.subscription ? ' Active Subscription' : ' Inactive Subscription'}\n          </p> */}\n\n          {/* Dark Mode Toggle Inside the Card */}\n          <button\n            className=\"dark-mode-toggle \"\n            onClick={() => setDarkMode(!darkMode)}\n          >\n            {darkMode ? <FaSun /> : <FaMoon />} {darkMode ? 'Light Mode' : 'Dark Mode'}\n          </button>\n\n          <button className=\"edit-profile-button\" onClick={() => navigate('/edit-profile')}>\n            <FaEdit /> Edit Profile\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}